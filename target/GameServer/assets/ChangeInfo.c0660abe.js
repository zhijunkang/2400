import{B as e,u as a,g as l}from"./index.5b164984.js";import{w as t,r as d,o,c as i,f as s,m as u,F as n,k as r,h as m}from"./vendor.f97b600a.js";import"./index.9688d811.js";const f={data:()=>({header:{token:sessionStorage.getItem("token")},options:[],value:[],tableData:[],search:"",fdata:{rgid:"",goodsname:"",value:"",qhv:"",qht:"",type:"",skin:""},ed:!1,roleId:"",roleName:"",index:-1}),created(){e({}).then((e=>{this.options=e.data.map((e=>{const a=e.split("-");return{value:`${a[0]}`,label:`${a[1]}`}}))}))},methods:{tableRowClassName:({row:e,rowIndex:a})=>1===a?"warning-row":3===a?"success-row":"",handleEdit(e,a){this.idx=e,Object.keys(this.fdata).forEach((e=>{this.fdata[e]=a[e]})),this.ed=!0,console.log(this.fdata)},saveEdit(){a({roleId:this.roleId,roleName:this.roleName,rgid:this.fdata.rgid,value:this.fdata.value,qhv:this.fdata.qhv,qht:this.fdata.qht,goodName:this.fdata.goodsname,type:this.fdata.type,skin:this.fdata.skin}).then((e=>{t.success(e.data),Object.keys(form).forEach((e=>{tableData.value[this.idx][e]=form[e]}))}))}},watch:{value(e,a){if(null!=e&&""!=e){const a=e.split("-");this.roleId=a[0],this.roleName=a[1],l({roleId:this.roleId,roleName:this.roleName}).then((e=>{this.tableData=e.data}))}}}},h=m("编辑 "),p={class:"dialog-footer"},c=m("取 消"),V=m("确 定");f.render=function(e,a,l,t,m,f){const b=d("el-option"),g=d("el-select"),v=d("el-divider"),k=d("el-table-column"),_=d("el-input"),w=d("el-button"),x=d("el-table"),y=d("el-form-item"),q=d("el-form"),U=d("el-dialog");return o(),i(n,null,[s(g,{modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"请选择"},{default:u((()=>[(o(!0),i(n,null,r(m.options,(e=>(o(),i(b,{key:e.value,label:e.label,value:e.value+"-"+e.label},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),s(v,{"content-position":"left"}),s(x,{data:m.tableData.filter((e=>!m.search||e.goodsname.includes(m.search))),style:{width:"100%"}},{default:u((()=>[s(k,{prop:"rgid",label:"rgid"}),s(k,{prop:"goodsname",label:"商品名称"}),s(k,{align:"right"},{header:u((()=>[s(_,{modelValue:m.search,"onUpdate:modelValue":a[2]||(a[2]=e=>m.search=e),size:"mini",placeholder:"输入关键字搜索"},null,8,["modelValue"])])),_:1}),s(k,{align:"left"},{default:u((e=>[s(w,{type:"text",icon:"el-icon-edit",onClick:a=>f.handleEdit(e.$index,e.row)},{default:u((()=>[h])),_:2},1032,["onClick"])])),_:1}),s(k,{prop:"value",label:"值",width:"1000px"})])),_:1},8,["data"]),s(U,{title:"编辑",modelValue:m.ed,"onUpdate:modelValue":a[11]||(a[11]=e=>m.ed=e),width:"50%"},{footer:u((()=>[s("span",p,[s(w,{onClick:a[10]||(a[10]=e=>m.ed=!1)},{default:u((()=>[c])),_:1}),s(w,{type:"primary",onClick:f.saveEdit},{default:u((()=>[V])),_:1},8,["onClick"])])])),default:u((()=>[s(q,{"label-width":"70px"},{default:u((()=>[s(y,{label:"ID"},{default:u((()=>[s(_,{modelValue:m.fdata.rgid,"onUpdate:modelValue":a[3]||(a[3]=e=>m.fdata.rgid=e),disabled:""},null,8,["modelValue"])])),_:1}),s(y,{label:"名称"},{default:u((()=>[s(_,{modelValue:m.fdata.goodsname,"onUpdate:modelValue":a[4]||(a[4]=e=>m.fdata.goodsname=e)},null,8,["modelValue"])])),_:1}),s(y,{label:"类型"},{default:u((()=>[s(_,{modelValue:m.fdata.type,"onUpdate:modelValue":a[5]||(a[5]=e=>m.fdata.type=e)},null,8,["modelValue"])])),_:1}),s(y,{label:"皮肤"},{default:u((()=>[s(_,{modelValue:m.fdata.skin,"onUpdate:modelValue":a[6]||(a[6]=e=>m.fdata.skin=e)},null,8,["modelValue"])])),_:1}),s(y,{label:"强化值"},{default:u((()=>[s(_,{modelValue:m.fdata.qhv,"onUpdate:modelValue":a[7]||(a[7]=e=>m.fdata.qhv=e)},null,8,["modelValue"])])),_:1}),s(y,{label:"强化数"},{default:u((()=>[s(_,{modelValue:m.fdata.qht,"onUpdate:modelValue":a[8]||(a[8]=e=>m.fdata.qht=e)},null,8,["modelValue"])])),_:1}),s(y,{label:"值"},{default:u((()=>[s(_,{type:"textarea",style:{width:"800px",height:"100px"},modelValue:m.fdata.value,"onUpdate:modelValue":a[9]||(a[9]=e=>m.fdata.value=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)};export default f;
